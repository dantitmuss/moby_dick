{% extends "base.html" %}

{% block title %}Semantic Verse Match | Moby-Dick Verse Finder{% endblock %}

{% block content %}
<div class="space-y-10">
  <h1 class="text-2xl mb-4">Semantic Verse Match</h1>

  <div class="mb-6">
    <h3 class="text-xl ">Your Query:</h3>
    <p class="italic">{{ query }}</p>
  </div>

  <div>
    <h3 class="text-xl mb-4">Melville-Style Generated Verse:</h3>
    <blockquote class="bg-white/10 backdrop-blur-md border italic border-white/20 rounded-lg shadow-xl p-6 mb-6 animate-fade opacity-0" style="animation-delay: 0.5s; animation-fill-mode: forwards;">
      {{ generated_verse }}
    </blockquote>
  </div>

  <div>
    <h3 class="text-xl mb-4">Top 3 Matches from Moby-Dick:</h3>
    {% for verse in matched_verses %}
      <blockquote class="bg-white/10 backdrop-blur-md border border-white/20 rounded-lg shadow-xl p-6 mb-6 animate-fade opacity-0" style="animation-delay: 2s; animation-fill-mode: forwards;">
        <span class="font-semibold">Chapter {{ verse.chapter_number }}, {{ verse.chapter_title }}</span><br>
        <span class="font-semibold">Verse {{ verse.verse_number }}:</span><br>
        {{ verse.text }}
      </blockquote>
    {% endfor %}
  </div>

  <div class="mt-8 text-center">
    <a href="/" class="hover:underline">Try another query</a>
  </div>
</div>
{% endblock %}
