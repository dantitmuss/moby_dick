{% extends "base.html" %}

{% block title %}Semantic Verse Match | Moby Dick Verse Finder{% endblock %}

{% block content %}
  <h2 class="text-2xl font-imfell mb-4">Semantic Verse Match</h2>

  <div class="mb-6">
    <h3 class="text-xl font-imfell">Your Query:</h3>
    <p class="italic font-imfell">{{ query }}</p>
  </div>

  <div class="mb-6">
    <h3 class="text-xl font-imfell">Melville-Style Generated Verse:</h3>
    <blockquote class="bg-white/10 backdrop-blur-md border border-white/20 rounded-lg shadow-xl p-6 mb-6">
      {{ generated_verse }}
    </blockquote>
  </div>

  <div>
    <h3 class="text-xl font-imfell mb-4">Top 3 Matches from Moby Dick:</h3>
    {% for verse in matched_verses %}
      <blockquote class="bg-white/10 backdrop-blur-md border border-white/20 rounded-lg shadow-xl p-6 mb-6">
        <span class="font-semibold">Chapter {{ verse.chapter_number }}, {{ verse.chapter_title }}</span><br>
        <span class="font-semibold">Verse {{ verse.verse_number }}:</span><br>
        {{ verse.text }}
      </blockquote>
    {% endfor %}
  </div>

  <div class="mt-6">
    <a href="/" class="hover:underline">Try another query</a>
  </div>
{% endblock %}
